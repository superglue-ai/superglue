---
title: "Incoming Webhooks"
description: "Trigger tool execution from external services"
---
import { Card, CardGroup, Steps, Step, Tabs, Tab, Accordion, AccordionGroup, Info, Tip, Note, CodeGroup, Frame } from '@components/mintlify/index.ts';


<Info>
  **Enterprise Feature** â€” Incoming webhooks are available on superglue Enterprise plans. [Contact us](https://cal.com/superglue/superglue-demo) to learn more.
</Info>

Trigger tools from external services like Stripe, GitHub, Shopify, or any system that can send HTTP webhooks. When an external service sends a webhook, superglue executes your tool with the webhook payload as input.

<video autoPlay muted loop playsInline className="w-full rounded-lg">
  <source src="/resources/using-agent-webhooks.mp4" type="video/mp4" />
</video>

## How it works

When you enable webhooks for a tool, superglue provides a unique webhook URL:

```
POST https://api.superglue.ai/v1/hooks/YOUR_TOOL_ID?token=YOUR_API_KEY
```

<Tip>
  **Example with real values:**
  
  `https://api.superglue.ai/v1/hooks/`<span style={{color: '#3b82f6', fontWeight: 'bold'}}>handle-stripe-customer</span>`?token=`<span style={{color: '#22c55e', fontWeight: 'bold'}}>a1b2c3d4-e5f6-7890-abcd-ef1234567890</span>
  
  Replace <span style={{color: '#3b82f6'}}>**YOUR_TOOL_ID**</span> with your actual tool ID (e.g., `handle-stripe-customer`) and <span style={{color: '#22c55e'}}>**YOUR_API_KEY**</span> with your API key UUID.
</Tip>

External services send HTTP POST requests to this URL. The request body becomes the tool's input payload, and superglue executes the tool asynchronously.

## Setting up a webhook

<Steps>
  <Step title="Get your webhook URL">
    Your webhook URL follows this pattern:
    ```
    https://api.superglue.ai/v1/hooks/YOUR_TOOL_ID?token=YOUR_API_KEY
    ```
    
    Replace `YOUR_TOOL_ID` with your tool's ID and `YOUR_API_KEY` with a valid API key. You can create API keys at https://app.superglue.cloud/api-keys.
  </Step>
  <Step title="Configure the external service">
    Add the webhook URL to your external service (Stripe, GitHub, etc.). Most services have a webhooks section in their dashboard.
  </Step>
  <Step title="Design your tool for webhook payloads">
    Your tool receives the raw webhook payload as input. Design your steps to extract the data you need:
    
    ```typescript
    // Example: Stripe webhook payload
    {
      "id": "evt_1234",
      "type": "customer.created",
      "data": {
        "object": {
          "id": "cus_abc123",
          "email": "user@example.com"
        }
      }
    }
    ```
    
    Use template expressions to access nested fields: `<<(sourceData) => sourceData.data.object.email>>`
  </Step>
</Steps>

## Webhook behavior

- **Asynchronous execution**: Returns `202 Accepted` immediately, executes the tool in the background
- **Run tracking**: Each webhook trigger creates a run record you can view in the dashboard
- **Request source**: Runs triggered via webhook are labeled with source `WEBHOOK` in the runs table

## Example: Stripe webhook integration

Build a tool that handles Stripe events and syncs customer data to your CRM:

```typescript
// Tool configuration for handling Stripe customer.created events
{
  id: "handle-stripe-customer",
  steps: [
    {
      id: "addToMailchimp",
      config: {
        systemId: "mailchimp",
        method: "POST",
        url: "https://api.mailchimp.com/3.0/lists/YOUR_LIST_ID/members",
        body: {
          email_address: "<<(sourceData) => sourceData.data.object.email>>",
          status: "subscribed"
        }
      }
    }
  ]
}
```

Webhook URL: `https://api.superglue.ai/v1/hooks/handle-stripe-customer?token=YOUR_API_KEY`

## Example: GitHub webhook integration

Trigger a deployment tool when code is pushed to your repository:

```typescript
// Tool that deploys when code is pushed to main
{
  id: "deploy-on-push",
  steps: [
    {
      id: "triggerDeploy",
      config: {
        systemId: "vercel",
        method: "POST",
        url: "https://api.vercel.com/v13/deployments",
        body: {
          name: "my-app",
          gitSource: {
            type: "github",
            ref: "<<(sourceData) => sourceData.ref>>",
            repoId: "<<(sourceData) => sourceData.repository.id>>"
          }
        }
      }
    }
  ]
}
```

## Security considerations

<Note>
  Webhook URLs include your API token. Treat them as secrets.
</Note>

- **Use HTTPS**: Always use HTTPS webhook URLs
- **Restricted API keys**: Use API keys that only have permission to execute specific tools
- **Validate signatures**: If the source service provides webhook signatures (e.g., Stripe's `stripe-signature` header), validate them in your tool logic
- **Monitor activity**: Regularly review the runs dashboard for unexpected webhook activity
- **Rotate keys**: Periodically rotate API keys used for webhooks

## Filtering webhook events

Many services send multiple event types to the same webhook URL. Filter events in your tool using conditional logic:

```typescript
// Only process customer.created events from Stripe
{
  outputTransform: `(sourceData) => {
    if (sourceData.type !== 'customer.created') {
      return { skipped: true, reason: 'Event type not handled' };
    }
    return sourceData.addToMailchimp;
  }`
}
```
