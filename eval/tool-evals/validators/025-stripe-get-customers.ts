import assert from 'assert';

const EXPECTED_DATA = {
  "customers": [
    "Daniel Miller",
    "Olivia Taylor",
    "Charlotte Brown",
    "Mia Johnson",
    "Sophia Lee",
    "Daniel Williams",
    "Jane Smith",
    "Daniel Thomas",
    "David Rodriguez",
    "Matthew Williams",
    "Sophia Davis",
    "Olivia Williams",
    "Sarah Lee",
    "Sophia Taylor",
    "John Johnson",
    "Olivia Taylor",
    "Sophia Jackson",
    "Mia Rodriguez",
    "Michael Rodriguez",
    "Olivia Wilson",
    "Robert Anderson",
    "William Garcia",
    "David Davis",
    "Matthew Jackson",
    "Daniel Taylor",
    "Isabella Lopez",
    "Matthew Brown",
    "James Williams",
    "James Garcia",
    "Emily Moore",
    "Sophia Hernandez",
    "James Miller",
    "Emma Taylor",
    "Sophia Martinez",
    "Daniel Smith",
    "Olivia Anderson",
    "William Miller",
    "William Jones",
    "Matthew Lee",
    "Daniel Miller",
    "Ava Brown",
    "James Thomas",
    "Joseph Taylor",
    "Joseph Martinez",
    "Matthew Anderson",
    "Christopher Martinez",
    "Isabella Johnson",
    "David Lee",
    "Robert Smith",
    "Emma Taylor",
    "David Anderson",
    "Christopher Brown",
    "James Wilson",
    "Sophia Taylor",
    "Michael Davis",
    "Jane Anderson",
    "Daniel Lopez",
    "Charlotte Moore",
    "John Williams",
    "Sarah Martinez",
    "Jane Thomas",
    "Sarah Thomas",
    "James Williams",
    "William Wilson",
    "John Miller",
    "David Lee",
    "William Brown",
    "Sarah Hernandez",
    "Sophia Brown",
    "Emma Smith",
    "Charlotte Martin",
    "Joseph Lee",
    "Charlotte Martin",
    "Joseph Anderson",
    "James Lee",
    "Emma Wilson",
    "Ava Hernandez",
    "Emma Moore",
    "John Moore",
    "Michael Jackson",
    "David Anderson",
    "Mia Lopez",
    "Christopher Davis",
    "Sarah Rodriguez",
    "Matthew Davis",
    "Ava Moore",
    "John Lopez",
    "Emma Garcia",
    "David Taylor",
    "Robert Davis",
    "Daniel Wilson",
    "Emma Lee",
    "Sophia Martin",
    "Olivia Moore",
    "Olivia Jackson",
    "Mia Martinez",
    "David Brown",
    "James Johnson",
    "Matthew Lee",
    "Ava Wilson",
    "William Smith",
    "Sarah Smith",
    "Daniel Johnson",
    "John Smith",
    "Sophia Jackson",
    "James Williams",
    "Jane Thomas",
    "Olivia Lee",
    "Joseph Taylor",
    "Jane Garcia",
    "Emma Martinez",
    "Matthew Lopez",
    "Charlotte Taylor",
    "Sophia Thomas",
    "Mia Brown",
    "Sarah Martin",
    "Christopher Moore",
    "Joseph Wilson",
    "Emma Wilson",
    "Ava Martinez",
    "John Lee",
    "Sophia Jones",
    "Robert Miller",
    "Matthew Jones",
    "Jane Rodriguez",
    "Sarah Rodriguez",
    "Isabella Lopez",
    "David Johnson",
    "Matthew Hernandez",
    "Sarah Rodriguez",
    "Joseph Wilson",
    "Joseph Martinez",
    "Charlotte Hernandez",
    "Christopher Davis",
    "Joseph Anderson",
    "Sarah Martin",
    "Emily Jones",
    "Robert Thomas",
    "Ava Anderson",
    "Isabella Hernandez",
    "Michael Thomas",
    "Christopher Martin",
    "Christopher Garcia",
    "Joseph Brown",
    "James Jones",
    "Mia Garcia",
    "Isabella Moore",
    "James Miller",
    "Joseph Hernandez",
    "Robert Wilson",
    "Mia Johnson",
    "Matthew Lee",
    "Daniel Lee",
    "John Taylor",
    "Jane Wilson",
    "William Martin",
    "Michael Williams",
    "David Anderson",
    "Michael Taylor",
    "Daniel Lopez",
    "John Miller",
    "Daniel Hernandez",
    "Joseph Taylor",
    "Charlotte Lee",
    "Michael Martinez",
    "Isabella Johnson",
    "Olivia Anderson",
    "David Johnson",
    "Michael Lee",
    "Daniel Lee",
    "Emily Lee",
    "Michael Smith",
    "William Rodriguez",
    "Ava Anderson",
    "Isabella Davis",
    "Charlotte Jackson",
    "John Taylor",
    "Ava Garcia",
    "Daniel Lopez",
    "Robert Rodriguez",
    "Christopher Rodriguez",
    "Ava Miller",
    "Matthew Miller",
    "Isabella Martinez",
    "Jane Lee",
    "Matthew Johnson",
    "Michael Moore",
    "Matthew Lopez",
    "Matthew Lopez",
    "William Moore",
    "Christopher Martinez",
    "David Moore",
    "Ava Martinez",
    "Jane Martinez",
    "Michael Lee",
    "Ava Williams",
    "David Martin",
    "Sophia Thomas",
    "Jane Williams",
    "James Rodriguez",
    "Hans GmbH",
    "Peter GmbH"
  ]
};

function isDeepEqual(expected: any, received: any): boolean {
  if (expected === received) return true;
  if (expected == null || received == null) return false;
  if (typeof expected !== "object" || typeof received !== "object") return false;

  const keysExpected = Object.keys(expected);
  const keysReceived = Object.keys(received);

  if (keysExpected.length !== keysReceived.length) return false;

  for (const key of keysExpected) {
    if (!Object.prototype.hasOwnProperty.call(received, key) || !isDeepEqual(expected[key], received[key])) {
      return false;
    }
  }

  return true;
}

export default function validate(data: any, payload: any): void {
  assert(isDeepEqual(EXPECTED_DATA, data), `Data does not match expected structure. Expected: ${JSON.stringify(EXPECTED_DATA)}, Received: ${JSON.stringify(data)}`);
}
